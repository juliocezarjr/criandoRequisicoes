import { conectaApi } from "./conectaApi.js";
const formulario = document.querySelector("[data-formulario]");

async function criarVideo(evento) {
    evento.preventDefault();

    // const imagem = document.querySelector("[data-imagem]").value;
    const imagem = "data:image/jpeg;base64,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";
    // const url = document.querySelector("[data-url]").value;
    const url = "https://youtu.be/embed/aH3YPO-3jyk";
    // const titulo = document.querySelector("[data-titulo]").value;
    const titulo = "testando 123";
    const descricao = Math.floor(Math.random() * 10).toString();

    await conectaApi.criaVideo(titulo, descricao, url, imagem);

    console.log("Deu cerrto")
    window.location.href = "../pages/envio-concluido.html";
}

formulario.addEventListener("submit", evento => criarVideo(evento))